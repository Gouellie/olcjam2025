
[SceneTransitionTriggers]
TransitToTitle      = Object.Delete ^, Object.Create TitleScene
TransitToWorld      = Object.Delete ^, Object.Create WorldScene
TransitToSandbox    = Object.Delete ^, Object.Create SandboxScene

[TitleScene@Scene]
ChildList       = TitleSceneMenu
Input           = MenuInput
TriggerList     = MenuInputTriggers # SceneTransitionTriggers

  [MenuInputTriggers]
  Input:.Previous = > Get Runtime ActiveMenu, Object.FireTrigger < Previous
  Input:.Next     = > Get Runtime ActiveMenu, Object.FireTrigger < Next
  Input:.Activate = > Get Runtime ActiveMenu, Object.FireTrigger < Activate

[MenuInput]
; Keyboard
KEY_SPACE       = Activate
KEY_ENTER       = Activate
KEY_UP          = Previous
KEY_DOWN        = Next
; Joystick/gamepad
JOY_A           = Activate
JOY_START       = Activate
-JOY_LY         = Previous
+JOY_LY         = Next
JOY_UP          = Previous
JOY_DOWN        = Next
JOY_BACK        = BackToTitleScreen
KEY_Q           = BackToTitleScreen
; Mouse
MOUSE_LEFT      = Activate
KEY_W           = Previous
KEY_S           = Next

[TitleSceneMenu@orxContainerObject]
Group           = UI
Graphic         = @
Texture         = pixel
Color           = yellow
Size            = (500, 600)
Pivot           = center
ChildList       = TitleSceneMenuButtonSandbox # TitleSceneMenuButtonWorld
Margin          = 40
Spacing         = 40
OnCreate        = > Object.FindChild ^ TitleSceneMenuButtonSandbox, Object.FireTrigger < Active

    [TitleSceneMenuButtonWorld@Button]
    ChildList       = TitleSceneMenuButtonWorldLabel
    Previous        = TitleSceneMenuButtonSandbox
    Next            = TitleSceneMenuButtonSandbox
    ActivateCommand = > Get Runtime Scene, Object.FireTrigger < TransitToWorld

        [TitleSceneMenuButtonWorldLabel@ButtonLabel]
        String          = "Large World"

    [TitleSceneMenuButtonSandbox@Button]
    ChildList       = TitleSceneMenuButtonSandboxLabel
    Previous        = TitleSceneMenuButtonWorld
    Next            = TitleSceneMenuButtonWorld
    ActivateCommand = > Get Runtime Scene, Object.FireTrigger < TransitToSandbox

        [TitleSceneMenuButtonSandboxLabel@ButtonLabel]
        String          = "Sandbox"


[GameScene@Scene]
Input           = MenuInput
TriggerList     = GameInputTriggers # SceneTransitionTriggers

  [GameInputTriggers]
  Input:.BackToTitleScreen = > Get Runtime Scene, Object.FireTrigger < TransitToTitle

[WorldScene@GameScene]
ChildList           = ShortRangeGrid # World # Vessel

[SandboxScene@GameScene]
ChildList           = ShortRangeGrid # Vessel # Sandbox # Counter

    [Sandbox]
    Group           = Blackhole
    Pivot           = center truncate
    Graphic         = SandboxGraphic
    Scale           = 44
    Repeat          = (11,11)
    Alpha           = 0.2

    [SandboxGraphic]
    Texture         = sandbox_background.png