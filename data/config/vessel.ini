
[Vessel]
MovingSpeed     = (800, 800) # (1200, 1200) ; this is overriden by the debug config
Group           = Player
Pivot           = center
Graphic         = VesselGraphic
Body            = VesselBody
ChildList       = Vacuum
Scale           = 2
ShapesImpulseMultiplier = 2000
OnCreate        = > Object.GetID ^, Set Runtime Vessel <

  [VesselGraphic]
  Texture         = vessel.png

  [VesselCompass]
  Group           = Compass
  Graphic         = @
  Texture         = pixel
  Color           = red
  Pivot           = bottom
  Size            = (50,50)

  [VesselBody]
  AllowMoving   = false
  Dynamic       = false
  PartList      = VesselBodyPart

    [VesselBodyPart]
    Type            = sphere
    SelfFlags       = vessel
    CheckMask       = shape # starbase
    Solid           = true

    [VesselMovingStartTrack]
    0               = log "ship start moving"

    [VesselMovingStopTrack]
    0               = log "ship stop moving"

[Vacuum]
Group           = Player
Graphic         = @
Texture         = pixel
Alpha           = 0
Size            = (70, 500)
Pivot           = top
RotationSpeed   = 8
ChildList       = VacuumHead
OnCreate        = Set Runtime Vacuum ^

[VacuumHead]
AnimationSet      = VacuumAnimSet
Group             = PlayerTop
Pivot             = top
Position          = (0, 70)
Body              = VacuumHeadBody

  [VacuumHeadBody]
  FixedRotation   = true
  Dynamic         = false
  AllowMoving     = false
  PartList        = VaccumHeadBodyPart

    [VaccumHeadBodyPart]
    Type            = sphere
    Radius          = 40
    Center          = (0, 80)
    SelfFlags       = vacuumhead
    CheckMask       = shape
  
  [VacuumAnimSet]
  Pivot           = top
  Prefix        = Vacuum
  KeyDuration   = 1
  StartAnim     = Inactive
  Inactive      = # 0
  Active        = # 0
  Inactive->    = Inactive # .Active
  Active->      = Active # +.Inactive

    [VacuumInactive1]
    Texture       = vacuum_head_idle.png

    [VacuumActive1]
    Texture       = vacuum_head_active.png

    [VacuumBlowShapeTrack]
    0               = Object.AddFX ^ VacuumBlowFX

    [VacuumBlowFX]
    SlotList        = @
    Type            = scale
    Curve           = sine
    EndTime         = 0.15
    EndValue        = (1.25, 1.25)

[VacuumBeam]
Group           = Player
Pivot           = top
Size            = (70, 600)
Position        = (0, 80)
Strength        = 50000
DistanceMult    = 6
Body            = VacuumBeamBody
ChildList       = VacuumGraphic

  [VacuumGraphic]
  Group         = Beam
  Pivot         = top
  Scale         = (2, 6)
  Position      = (0, 15)
  Graphic       = @
  Texture       = vacuum_beam.png
  FXList        = VaccumBeamWoobleFXScaleX # VaccumBeamWoobleFXScaleY

    [VaccumBeamWoobleFXScaleX]
    SlotList        = @
    Loop            = true
    Type            = scale
    Curve           = sine
    EndTime         = 0.15
    EndValue        = (0.85, 1.0)

    [VaccumBeamWoobleFXScaleY]
    SlotList        = @
    Loop            = true
    Type            = scale
    Curve           = sine
    EndTime         = 0.75
    EndValue        = (1.0, 1.01)

  [VacuumBeamBody]
  FixedRotation   = true
  Dynamic         = false
  AllowMoving     = false
  PartList        = VacuumBeamBodyPartBeam # VacuumBeamBodyPartBase

    [VacuumBeamBodyPartBeam]
    Type                            = mesh
    VertexList                      = (-30, 15) # (30, 15) # (70, 615) # (-70, 615)
    SelfFlags                       = vacuum
    CheckMask                       = shape

    [VacuumBeamBodyPartBase]
    Type                            = sphere
    Center                          = (0, 30)
    Radius                          = 90
    SelfFlags                       = vacuum
    CheckMask                       = shape

[Shape]
Group           = Shapes
Graphic         = @
Scale           = 3
Pivot           = center
Body            = ShapeBody
OnDelete        = > Object.GetPosition ^, > Object.Create DeadShape, Object.SetPosition < <

    [DeadShape] ; This is where you put the pickup FX and all
    Group           = Shapes
    Graphic         = @
    Scale           = 1
    Pivot           = center
    Texture         = abstractTile_10.png
    LifeTime        = 0

  [ShapeBody]
  LinearDamping   = 1.5
  AngularDamping  = 0.9
  PartList        = ShapeBodyPart
  Dynamic         = true
  AllowMoving     = true
  HighSpeed       = true

    [ShapeBodyPart]
    Type                            = sphere
    SelfFlags                       = shape
    CheckMask                       = vacuum # vacuumhead # vessel
    Solid                           = true
    Friction                        = 10 ; Valeur de ralentitissement apres un rebond
    Restitution                     = 1.5 ; Valeur de bounce

[ShapeCollectedFX]

  [ShapeCollectedFXAlpha]
  
  [ShapeCollectedFXScale]

[ShapeTriangle@Shape]
Texture         = triangle_01.png

[ShapeCircle@Shape]
Texture         = stars_01.png

[ShapeSquare@Shape]
Texture         = square_01.png

[ShapeDiamond@Shape]
Texture         = losange_01.png

[Starbase]
Group           = Starbase
Graphic         = @
Scale           = 6
Texture         = @Celestial
TextureSize     = (128, 96)
TextureOrigin   = (256, 0)
Pivot           = center
Body            = StarbaseBody
DockingSpeed    = 5.0

  [StarbaseBody]
  AllowMoving   = false
  Dynamic       = true
  PartList      = StarbaseBodyPart

    [StarbaseBodyPart]
    Type            = sphere
    Radius          = 20
    SelfFlags       = starbase
    CheckMask       = vessel

    [StarbaseShipDockingTrack]
    0 = log "Ship is docking"

    [StarbaseShipDockedTrack]
    0 = log "Ship is docked", Object.AddSound ^ ShipDockedSound

    [StarbaseShipUndockedTrack]
    0 = log "Ship is undocked"

[Starbases]
ChildList   = StarbaseTriangle # StarbaseSquare # StarbaseDiamond # StarbaseStar

[StarbaseTriangle@Starbase]
Position        = (2000, 1000)

[StarbaseSquare@Starbase]
Position        = (-2000, -2000)

[StarbaseDiamond@Starbase]
Position        = (0, -4400)

[StarbaseStar@Starbase]
Position        = (0, 4400)